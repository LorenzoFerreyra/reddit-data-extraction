---
title: "Trabajo de Taller de Investigación: Text mining"
author: "Lorenzo Ferreyra"
format: html
editor: visual
---

## Librerías

```{r}
#| echo: false
library(readxl)
library(dplyr)
library(stringr)
library(tidytext)
library(ggplot2)
```

## Carga de datos

Llamamos las librerías necesarias

```{r}
comments <- read_excel("output_files/comments.xlsx")
posts <- read_excel("output_files/posts.xlsx")
```

## Preprocesamiento de datos

Se limpia el texto de los comentarios; se pasa todo a minúsculas, se eliminan links, símbolos irrelevantes, etc.

```{r}
comments_clean <- comments %>%
  mutate(body = str_to_lower(body)) %>%
  mutate(body = str_remove_all(body, "http\\S+|www\\S+")) %>%
  mutate(body = str_remove_all(body, "[^a-záéíóúüñ\\s]")) %>%
  mutate(body = str_squish(body))
```

The `echo: false` option disables the printing of code (only output is displayed).
